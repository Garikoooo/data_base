Модель данных
•	 Определяет абстракцию данных для приложений.
•	 Включает:
•	 структуры данных;
•	 операции;
•	 зависимости;
•	 ограничения.

Концептуальные модели
данных:
•	 иерархическая;
•	 сетевая;
•	 реляционная;
•	 объектно-реляционная

Иерархическая модель данных
ФАКУЛЬТЕТ
Шифр_факультета, Название_факультета
КУРС
Номер_курса	
КАФЕДРА
Шифр_кафедры,
Название_кафедры
ГРУППА
Номер_группы, Год_образования ПРЕПОДАВАТЕЛЬ
ФИО_преподавателя,
Должность,
Паспортные_данные СТУДЕНТ
Номер_зачетной_книжки, ФИО_студента,
Паспортные_данные

Реляционная модель
•	 Первые публикации: 1969-1971 годы.
•	 Интенсивное развитие теории: 1970-е годы.
•	 Ранние попытки реализации: 1978 год.
•	 Стандарт SQL: 1986 год.
•	 Эффективные реализации SQL: 1990 год.

Реляционная модель
•	 Таблицы.
•	 Столбцы – атрибуты.
•	 Строки – данные.
•	 Шапка таблицы – имена атрибутов

Пример: представление данных
в реляционной модели
Номер зачетки ФИО студента Номер группы
45477 Бусыгин Вячеслав 441
44676 Дубова Алина 646
44674 Зареков Михаил 646
46575 Федоров Никита 341

Реляционная модель –
структуры данных
•	 Домены – множества, элементы которых
рассматриваются как скалярные значения.
•	 Отношения – предикаты, заданные
на прямом произведении доменов.
•	 Атрибуты – аргументы отношений.

Сущности
• Сущности – таблицы.
• Имя сущности – имя отношения.
• Атрибут – столбец.
• Уникальный идентификатор сущности –
ключ отношения.





Реляционная модель
•	 Домены D1
, D2
,…,D
n
•	 Атрибуты A1
, A2
, …, An
•	 Кортежи t=<a1
, a2
,…,a
n
>, ai
∈Di
•	 Формально R ⊂ D1
×D2
.. D
n    

Терминология
•	 Экземпляр – конкретное наполнение базы данных.
•	 Конкретное наполнение таблицы – тело отношения.
•	 Совокупность атрибутов отношения – заголовок
отношения (схема).
•	 Заголовок + тело = значение отношения.
•	 Строка таблицы – кортеж.

Типы данных атрибутов:
•	 символьный;
•	 битовый;
•	 точные числа;
•	 округленные числа;
•	 денежный;	
•	 дата/время;
•	 интервал.	

Ключ
• Возможный ключ – минимальный набор атрибутов,
от которого функционально зависят все остальные.
• Первичный ключ – один из возможных ключей.
• Ключевые атрибуты – атрибуты, входящие
в состав возможного ключа.

Связи
• Связи хранятся в отношениях.
• Схема отношения составляется из ключевых
атрибутов объектов, участвующих в связи,
и атрибутов самой связи (если такие есть)

Связи 1:N
Преподаватель работает Кафедра
Таб. номер
Номер_
кафедры
ФИО
Название_
кафедры
Кафедра
Номер_кафедры Название_кафедры
1 Кафедра информационно-аналитических систем
2 Кафедра системного программирования
Преподаватель
Табельный_номер ФИО Номер_кафедры
457889 Михайлова Елена Георгиевна 1
455888 Графеева Наталья Генриховна 1
437878 Терехов Андрей Николаевич 2
437566 Новиков Борис Асенович 1

Слабые сущности
Сотрудник
Табельный_номер ФИО
Адрес
Табельный_номер Улица Дом
Сотрудник живет Адрес

«Плохие» отношения –
пример 1:
Группы
Группа Список группы
341 (5556, Федоров Никита); (5677,Шпар Софья);(5674, Пашкова Мария);…
441 (4677, Бусыгин Вячеслав); (4645, Лучков Александр); (4536, Кривоносова Нина);…
646 (3788, Дубова Алина); (3745,Заречев Михаил); (3755,Черняев Андрей);…

«Плохие» отношения –
пример 2:
Товары и фирмы
Название фирмы Адрес Телефон Товар Цена (руб.)
Чижиков & Co Уткин проезд, 5 999-99-99 Винт большой 3
Чижиков & Co Уткин проезд, 5 999-99-99 Винт маленький 5
Винты-гайки Ул.Ленина, 1 333-33-33 Винт 4
Стройтовары Стройбаза № 1 444-44-44 Саморез 2
Чижиков & Co Уткин проезд, 5 999-99-99 Саморез 3

Недостатки «плохих»
отношений:
• трудности с извлечением некоторых данных;
• избыточность;
• аномалии изменения;
• аномалии удаления;
• аномалии добавления.

Как можно избавиться от неатомарных
значений в отношении Группы?
Группа
Группа Номер зачетки ФИО студента
341 5556 Федоров Никита
341 5677 Шпар Софья
341 5674 Пашкова Мария
441 4677 Бусыгин Вячеслав
441 4645 Лучков Александр
441 4536 Кривоносова Нина
646 3788 Дубова Алина
646 3745 Заречев Михаил
646 3755 Черняев Андрей

Что плохого в таблице Товары и фирмы?
В отношении Товары и фирмы:
• Название фирмы → Адрес, Телефон;
• Название фирмы, Товар → Цена.
Название фирмы Адрес Телефон Товар Цена (руб.)
Чижиков & Co Уткин проезд, 5 999-99-99 Винт большой 3
Чижиков & Co Уткин проезд, 5 999-99-99 Винт маленький 5
Винты-гайки Ул.Ленина, 1 333-33-33 Винт 4
Стройтовары Стройбаза № 1 444-44-44 Саморез 2
Чижиков & Co Уткин проезд, 5 999-99-99 Саморез 3

Функциональные зависимости
• R {A1
, A2
, … An
}
• X, Y ⊂ {A1
, A2
, … An
}
• X → Y, если любому значению X соответствует
в точности одно значение Y
В отношении Товары и фирмы:
• Название фирмы → Адрес, Телефон;
• Название фирмы, Товар → Цена.

Ключ
• Ключ – минимальный набор атрибутов, который
функционально определяет все остальные.
• R {A1
, A2
, … An
}, X ⊂ {A1
, A2
, … An
}
• X → A1
, A2
, … An для ∀Y⊂ X Y→A1
, A2
, … An

Полная функциональная
зависимость
• Y полностью функционально зависит от X, если Y функционально
зависит от всех атрибутов, входящих в состав X, а не от какой-то
его части.
• В отношении Товары и фирмы:
• Название фирмы, Товар → Цена
(полная функциональная зависимость);
• Название фирмы, Товар → Адрес, Телефон
(неполная функциональная зависимость).

Транзитивные зависимости
Функциональная зависимость A→ C называется
транзитивной, если существует такой атрибут B,
что имеются функциональные зависимости A→ B и B→ C
и отсутствует функциональная зависимость C→ A.

Пример транзитивной
зависимости
Транзитивные функциональные зависимости
в отношении Студенты и предметы:
• Номер зачетки → Группа;
• Группа, Предмет → Преподаватель.
• Номер зачетки, Предмет → Группа, Предмет
→ Преподаватель.

Пример транзитивной
зависимости
Транзитивные функциональные зависимости
в отношении Студенты и предметы:
• Номер зачетки → Группа;
• Группа, Предмет → Преподаватель.
• Номер зачетки, Предмет → Группа, Предмет
→ Преподаватель.

1 НФ
• 1-я	нормальная	форма	(НФ)	–	атрибуты
отношения не	являются	составными.
Нарушения 1 НФ:
• Фирма,	{Город,	Улица,	Дом},	Товар.
• Имя	{Телефон1,	Телефон2…}.	

2 НФ
• 2-я нормальная форма = 1 НФ + любой
атрибут, не являющийся первичным, полностью
зависит от любого его ключа, но не от
подмножества ключа.
• Атрибут	называется	первичным,	если	входит
в	состав	любого	возможного	ключа.
Пример: 2 НФ
Т(Универмаг, Товар, Номер отдела, Заведующий)
Зависимости:
Универмаг, Товар → Номер отдела
Универмаг, Номер отдела → Заведующий
Ключ: (Универмаг, Товар)
2 НФ выполнена.
Т(Фирма, Адрес, Телефон, Товар, Цена)
Ключ: (Фирма, Товар)
Зависимости: Фирма → Адрес, Телефон
2 НФ нарушена.
3 НФ
• A,	B,	C	–	атрибуты,	A	→	B,	B	→	C,
A	не	зависит	от	B	и	B	не	зависит	от	C.
Тогда	говорят,	что	C	транзитивно
зависит	от	A.
• 3	нормальная	форма	=	2	НФ	+	любой
атрибут, не	являющийся	первичным,
нетранзитивно зависит	от	любого
возможного	ключа.

Пример: 3 НФ
Т(Город,	Индекс,	Адрес)
Зависимости:
Город,	Адрес	→	Индекс, Индекс	→	Город
Ключ:	(Город,	Адрес)	или	(Индекс,	Адрес)
3 НФ выполнена.
Т(Универмаг, Товар, Номер отдела, Заведующий)
Зависимости:
Универмаг, Товар → Номер отдела УТ
Универмаг, Номер отдела → Заведующий
Ключ: (Универмаг, Товар).
2 НФ выполнена, но 3 НФ нарушена.

НФ Бойса-Кодда
Нормальная	форма	Бойса-Кодда	–	
детерминанты (левая часть) всех
функциональных зависимостей являются
потенциальными ключами.

Пример: НФ Бойса-Кодда
Т(Город,	Индекс,	Адрес)
Ключ: (Город, Адрес) или (Индекс, Адрес)
Зависимости:
Город,	Адрес	→	Индекс
Индекс	→	Город
2 и 3 НФ выполнены, НФ Бойса-Кодда нарушена

Выводы:
• Отношение может быть приведено к 3 НФ
с сохранением всех функциональных зависимостей.
• Отношение может быть приведено к НФ
Бойса–Кодда, но некоторые функциональные
зависимости могут быть потеряны.

Шаги при декомпозиции
1	 Находим минимальное покрытие множества функциональных
зависимостей.
2	 Выделяем	зависимость X → Y,	нарушающую	нормальную форму
(и	нет	атрибутов,	зависящих	от	Y).
3	 Находим зависимости с такой же левой частью. X → W, X → Z
4	 Выделяем в отдельное отношение XYWZ.
5	 Из исходного отношения удаляем YWZ.

Специальные реляционные
операции
1 Ограничение отношения – горизонтальная вырезка.
2 Проекция отношения – вертикальная вырезка.
3 Соединение отношений.
4 Деление отношений.

Селекция
• Селекция – это «горизонтальный срез» отношения.
• Селекция (выборка) – это операция,
которая выделяет множество строк в таблице,
удовлетворяющих заданным условиям.
• Условием может быть любое
логическое выражение.
• Синтаксис операции селекции: R where f, где R -
отношение, а f - логическое выражение.

Селекция
• Логическое выражение может состоять из простых
операндов, заданных на атрибутах отношения.
• Операнды могут быть связаны AND, NOT, OR.
• Результат селекции – отношение, заголовок которого
совпадает с заголовком отношения-операнда, а в
тело входят те кортежи отношения-операнда, для
которых значением условия ограничения является
выполненным.

Проекция
• Проекция – это «вертикальный срез» отношения.
• Выбор некоторых столбцов исходного отношения R.
• Атрибуты результирующего отношения являются
подмножеством атрибутов исходного.
• Синтаксис операции проекции:
• R[x, y, … z] = S (x, y, …, z),
где R (a1
, a2, …, an) - исходное отношение,
{x, y, … z} ⊂{a1
, a2, …, an} - подмножество
атрибутов отношения

Соединение по условию –
JOIN Тэта-соединение
• Соединение двух отношений по некоторому
условию.
• Синтаксис операции Селекция:
A JOIN B WHERE f = (A × B) WHERE f

Естественное соединение
• Операция естественного соединения применяется
к отношениям, у которых есть общий атрибут.
• Результат естественного соединения – отношение, атрибутами
которого является объединение атрибутов исходных
отношений.
• Строки результирующего отношения формируются на основе
соединения строк исходных отношений по равенству
совпадающих атрибутов.

Естественное соединение
через другие операции
• Переименование.
• Декартово произведение.
• Селекция.
• Проекция.

Деление отношений
• Результатом деления A (X, Y) на B (Y) является
отношение C (X), тело которого состоит из кортежей
<x>, таких, что в теле отношения A содержатся
кортежи <x, y> для любого <y> из B.
• Запросы, реализуемые с помощью операции деления,
обычно в своей формулировке имеют слово «все».
• (A : B) = С С×B ⊂ A

Деление
• Пусть заданы два отношения:
• A с заголовком {a1
, a2
, ..., an
, b1
, b2
, ..., bm};
• B с заголовком {b1
, b2
, ..., bm}.
• Будем считать, что атрибут bi
 отношения A и атрибут bi
 отношения
B (i = 1, 2, …, m) не только обладают одним и тем же именем,
но и определены на одном и том же домене.
• Назовем множество атрибутов {aj} составным атрибутом a,
а множество атрибутов {bj} – составным атрибутом b.
• После этого будем говорить о реляционном делении
«бинарного» отношения A{a, b} на унарное отношение
B{b}.


